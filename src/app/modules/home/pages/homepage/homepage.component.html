<div class="homepage-component">

  <div class="top-components">
    <h3 class="user-header" *ngIf="currentUser$ | async">Welcome {{ currentUser$ | async }}!</h3>
    <div class="tc-buttons">
      <div *ngIf="currentUser$ | async; else notLoggedIn">
        <a href="" (click)="logout()" class="login-button">logout</a>
        <a class="dashboard-button" routerLink="/dashboard">Dashboard</a>
      </div>
      <ng-template #notLoggedIn>
        <a routerLink="/login" class="login-button">login</a>
      </ng-template>
    </div>
    <app-donate class="donate"></app-donate>
  </div>

<!--  TODO: Add the newsletter signup form back somewhere that makes sense -->
<!--  <div class="newsletter-div">-->
<!--    <div class="centerText"><h3>Join our Newsletter!</h3></div>-->
<!--    <div class="newsletter-grid">-->
<!--      <div><div>First Name</div> <input id="firstName" #firstName type="text"/></div>-->
<!--      <div><div>Email</div> <input id="email" #email type="text"/></div>-->
<!--    </div>-->
<!--    <div class="join-btn" (click)="addContactToDatabase(email.value, firstName.value)">Join!</div>-->
<!--  </div>-->

  <div class="blog-post-cards">
    <div class="blog-post" *ngFor="let blog of publishedBlogs">
      <div class="preview-img"><img [src]="blog.previewImage" /></div>
      <div class="blog-post-card-content">
        <div>
          <h3 class="header-text">{{ blog.header }}</h3>
        </div>
        <div>
          <p class="subheader-text">{{ blog.subheader | slice: 0:400 }}...</p>
        </div>
        <div class="blog-post-card-buttons">
          <a class="read-btn" (click)="readPost(blog.uid)">Read</a>
          <a *ngIf="currentUser$ | async" class="edit-btn" (click)="editPost(blog.uid)">Edit</a>
        </div>
      </div>
    </div>
  </div>


</div>
